@model IEnumerable<GoGreenV3.Models.AgencyModel>

@{
    ViewBag.Title = "Agency List";
}

<h2>Participating Agencies:</h2>
<hr />
<p>
    @using (Html.BeginForm("AgencyList", "Agency", FormMethod.Get, new { @class = "form-vertical" }))
    {
        <input type="submit" class="btn btn-default pull-right" value="Show All" onclick="document.getElementById('Query').value = '';" />
        <input type="submit" class="btn btn-default pull-right" style="margin-right: 2px;" value="Search" />
        @Html.TextBox("Query", null, new { @class = "form-control pull-right", placeholder = "Search", style = "margin-right: 2px;" })
    }
</p>

<table class="table table-bordered table-hover table-responsive table-striped table-responsive">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Address)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Contact)
        </th>
        <th></th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Address)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Contact)
        </td>
        <td>
            @if (!String.IsNullOrEmpty(item.Email))
            {
                <a href="mailto:@item.Email" class="btn btn-primary btn-sm">
                    <span class="glyphicon glyphicon-envelope"></span> Send email
                </a>
            }
        </td>
        <td>
            @if (!String.IsNullOrEmpty(item.WebsiteUrl))
            {
                <a href="@item.WebsiteUrl" class="btn btn-primary btn-sm">
                    <span class="glyphicon glyphicon-globe"></span> Visit website
                </a>
            }
        </td>
    </tr>
}

</table>
